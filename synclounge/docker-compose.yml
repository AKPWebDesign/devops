version: "2"
services:
  synclounge:
    image: ghcr.io/linuxserver/synclounge
    container_name: synclounge
    restart: unless-stopped
    hostname: ${HOST}
    environment:
      - TZ=America/New_York
      - DOMAIN=${HOST}
      - LOGSPOUT=ignore
    labels:
      - traefik.enable=true

      # web server service
      - traefik.http.services.synclounge.loadbalancer.server.port=8088

      # web server (HTTP)
      - traefik.http.routers.synclounge.rule=Host(`${HOST}`)
      - traefik.http.routers.synclounge.service=synclounge

      # socket server service
      - traefik.http.services.synclounge-svr.loadbalancer.server.port=8089

      # socket server (HTTP)
      - traefik.http.routers.synclounge-svr.rule=Host(`${HOST}`) && Path(`/slserver`)
      - traefik.http.routers.synclounge-svr.service=synclounge-svr

    networks:
      default:
networks:
  default:
    name: ${TRAEFIK_NETWORK}
